

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>2. Tests Catalog &mdash; Cloud Test Suite - CERN IT  documentation</title>
  

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="3. Run the test-suite" href="run.html" />
    <link rel="prev" title="1. Getting started" href="gettingStarted.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html">
          

          
            
            <img src="_static/logo.png" class="logo" alt="Logo"/>
          
          </a>

          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Cloud Test Suite Documentation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="gettingStarted.html">1. Getting started</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">2. Tests Catalog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#deep-learning-using-gpus">Deep Learning using GPUs</a></li>
<li class="toctree-l2"><a class="reference internal" href="#s3-endpoint-tests">S3 endpoint tests</a></li>
<li class="toctree-l2"><a class="reference internal" href="#data-export-from-the-commercial-cloud-provider-to-zenodo">Data Export: From the commercial cloud provider to Zenodo</a></li>
<li class="toctree-l2"><a class="reference internal" href="#containerised-cpu-benchmarking">Containerised CPU Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="#networking-performance-measurements">Networking performance measurements</a></li>
<li class="toctree-l2"><a class="reference internal" href="#fdmnes-simulation-of-x-ray-spectroscopies">FDMNES: Simulation of X-ray spectroscopies</a></li>
<li class="toctree-l2"><a class="reference internal" href="#dodas-dynamic-on-demand-analysis-services-test">DODAS: Dynamic On Demand Analysis Services test</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="run.html">3. Run the test-suite</a></li>
<li class="toctree-l1"><a class="reference internal" href="existingClusters.html">4. Using existing clusters</a></li>
<li class="toctree-l1"><a class="reference internal" href="results.html">5. Results</a></li>
<li class="toctree-l1"><a class="reference internal" href="verification.html">6. Verification</a></li>
<li class="toctree-l1"><a class="reference internal" href="costs.html">7. Cost of run calculation</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Cloud Test Suite - CERN IT</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>2. Tests Catalog</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/testsCatalog.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="tests-catalog">
<h1>2. Tests Catalog<a class="headerlink" href="#tests-catalog" title="Permalink to this headline">¶</a></h1>
<p>In the root of the cloned repository, you will find a file named <em>testsCatalog.yaml</em>, in which you have to specify the tests you want to run. To run a certain test simply set its <em>run</em> variable to the True Boolean value. On the other hand, if you don’t want it to be run set this value to False. Please find below, a description of each test that has already been integrated in the Test-Suite:</p>
<div class="section" id="deep-learning-using-gpus">
<h2>Deep Learning using GPUs<a class="headerlink" href="#deep-learning-using-gpus" title="Permalink to this headline">¶</a></h2>
<p>(This test is currently under development and will be available if following versions)</p>
<p>The 3DGAN application is a prototype developed to investigate the possibility to use a Deep Learning approach to speed-up the simulation of particle physics detectors. The benchmark measures the total time needed to train a 3D convolutional Generative Adversarial Network (GAN) using a data-parallel approach on distributed systems.
It is based on MPI for communication. As such, it tests the performance of single nodes (GPUs cards) but also latency and bandwidth of nodes interconnects and data access. The training uses a Kubernetes cluster (GPU flavored) with Kubeflow and MPI.</p>
<p>If selected, the suite will provision a Kubernetes cluster -GPU flavored- specifically for this test.
For this test, apart from the <em>run</em> variable, the following can be set in the <em>testsCatalog.yaml</em> file:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Explanation / Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nodes</p></td>
<td><p>Number of nodes to be used for the deployment. Default: max number of nodes available.</p></td>
</tr>
<tr class="row-odd"><td><p>flavor</p></td>
<td><p>Terraform definition of the flavor to be used for this test’s cluster. (required)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Contributors/Owners: Sofia Vallecorsa (CERN) - sofia.vallecorsa AT cern.ch; Jean-Roch Vlimant (Caltech)</p></li>
<li><p><a href="https://github.com/svalleco/mpi_learn" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="s3-endpoint-tests">
<h2>S3 endpoint tests<a class="headerlink" href="#s3-endpoint-tests" title="Permalink to this headline">¶</a></h2>
<p>A simple S3 test script to test functionality of S3-like endpoints, checking the following:
S3 authentication (access key + secret key), PUT, GET, GET with prefix matching, GET chunk, GET multiple chunks.</p>
<p>For this test, apart from the <em>run</em> variable, the following ones must be set on the <em>testsCatalog.yaml</em> file:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 88%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Explanation / Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>endpoint</p></td>
<td><div class="line-block">
<div class="line">Endpoint under which your S3 bucket is reachable.</div>
<div class="line">This URL must not include the bucket name but only the host.</div>
</div>
</td>
</tr>
<tr class="row-odd"><td><p>accessKey</p></td>
<td><p>Access key for S3 resource management.</p></td>
</tr>
<tr class="row-even"><td><p>secretKey</p></td>
<td><p>Secret key for S3 resource management.</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Contributors/Owners: Oliver Keeble (CERN) - oliver.keeble AT cern.ch</p></li>
<li><p><a href="https://gitlab.cern.ch/okeeble/s3test" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="data-export-from-the-commercial-cloud-provider-to-zenodo">
<h2>Data Export: From the commercial cloud provider to Zenodo<a class="headerlink" href="#data-export-from-the-commercial-cloud-provider-to-zenodo" title="Permalink to this headline">¶</a></h2>
<p>When using cloud credits, when the credit is exhausted, data can be repatriated or moved to a long-term data storage service. The example used in this test uses
<a href="https://zenodo.org/" target="_blank">Zenodo</a> service maintained by CERN, verifying that the output data can be taken from the cloud provider to Zenodo.</p>
<ul class="simple">
<li><p>Contributors/Owners: Ignacio Peluaga (CERN) - ignacio.peluaga.lozada AT cern.ch</p></li>
<li><p><a href="https://github.com/ignpelloz/cloud-exporter" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="containerised-cpu-benchmarking">
<h2>Containerised CPU Benchmarking<a class="headerlink" href="#containerised-cpu-benchmarking" title="Permalink to this headline">¶</a></h2>
<p>Suite containing several CPU benchmarks used for High Energy Physics (HEP).
The following benchmarks are run on the cloud provider, using a containerised approach:</p>
<ul class="simple">
<li><p>DIRAC Benchmark</p></li>
<li><p>ATLAS Kit Validation</p></li>
<li><p>Whetstone: from the UnixBench benchmark suite.</p></li>
<li><p>Hyper-benchmark: A pre-defined sequence of measurements and fast benchmarks.</p></li>
</ul>
<ul class="simple">
<li><p>Contributors/Owners: Domenico Giordano (CERN) - domenico.giordano AT cern.ch</p></li>
<li><p><a href="https://gitlab.cern.ch/cloud-infrastructure/cloud-benchmark-suite" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="networking-performance-measurements">
<h2>Networking performance measurements<a class="headerlink" href="#networking-performance-measurements" title="Permalink to this headline">¶</a></h2>
<p>perfSONAR is a network measurement toolkit designed to provide federated coverage of paths, and help to establish end-to-end usage expectations.</p>
<p>In this test, a perfSONAR testpoint is created using a containerised approach on the cloud provider infrastructure.
The following tests are launched end to end:</p>
<ul class="simple">
<li><p>throughput: A test to measure the observed speed of a data transfer and associated statistics between two endpoints.</p></li>
<li><p>rtt: Measure the round trip time and related statistics between hosts.</p></li>
<li><p>trace: Trace the path between IP hosts.</p></li>
<li><p>latencybg: Continuously measure one-way latency and associated statistics between hosts and report back results periodically.</p></li>
</ul>
<p>The endpoint for these tests must be specified at testsCatalog.yaml’s <em>perfsonarTest.endpoint</em> variable. Use endpoints from:</p>
<ul class="simple">
<li><p><a href="https://fasterdata.es.net/performance-testing/perfsonar/esnet-perfsonar-services/esnet-iperf-hosts/" target="_blank">List of throughput hosts</a></p></li>
<li><p><a href="http://perfsonar-otc.hnsc.otc-service.com/toolkit/" target="_blank">perfSONAR Toolkit</a></p></li>
<li><p><a href="http://stats.es.net/ServicesDirectory/" target="_blank">Lookup Services Directory</a></p></li>
</ul>
<ul class="simple">
<li><p>Contributors/Owners: Shawn Mckee (University of Michigan) - smckee AT umich.edu; Marian Babik CERN) - marian.babik AT cern.ch</p></li>
<li><p><a href="https://github.com/perfsonar/perfsonar-testpoint-docker" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="fdmnes-simulation-of-x-ray-spectroscopies">
<h2>FDMNES: Simulation of X-ray spectroscopies<a class="headerlink" href="#fdmnes-simulation-of-x-ray-spectroscopies" title="Permalink to this headline">¶</a></h2>
<p>(This test is currently under development and will be available if following versions)</p>
<p>The FDMNES project provides the research the community a user friendly code to simulate x-ray spectroscopies, linked to the real absorption (XANES, XMCD) or resonant scattering (RXD in bulk or SRXRD for surfaces) of synchrotron radiation.
It uses parallel calculations using OpenMPI. As an HPC test FDMNES is rather heavy on CPU and Memory and light on I/O.
The objective of this test is to understand which configuration of FDMNES is the most efficient and which type of tasks and calculations can be done in a give cloud provider.</p>
<p>If selected, the suite will provision a Kubernetes cluster -HPC flavored- specifically for this test.
For this test, apart from the <em>run</em> variable, the following can be set in the <em>testsCatalog.yaml</em> file:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 87%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Name</p></th>
<th class="head"><p>Explanation / Values</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>nodes</p></td>
<td><p>Number of nodes to be used for the deployment.</p></td>
</tr>
<tr class="row-odd"><td><p>flavor</p></td>
<td><p>Terraform definition of the flavor to be used for this test’s cluster. (required)</p></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>Contributors/Owners: Rainer Wilcke (ESRF) - wilcke AT esrf.fr</p></li>
<li><p><a href="http://neel.cnrs.fr/spip.php?article3137&lang=en" target="_blank">Repository</a></p></li>
</ul>
</div>
<div class="section" id="dodas-dynamic-on-demand-analysis-services-test">
<h2>DODAS: Dynamic On Demand Analysis Services test<a class="headerlink" href="#dodas-dynamic-on-demand-analysis-services-test" title="Permalink to this headline">¶</a></h2>
<p>DODAS is a system designed to provide a high level of automation in terms of provisioning, creating, managing and accessing a pool of heterogeneous computing
and storage resources, by generating clusters on demand for the execution of HTCondor workload management system. DODAS allows to seamlessly join the
HTCondor Global Pool of CMS to enable the dynamic extension of existing computing resources. A benefit of such an architecture is that it provides high
scaling capabilities and self-healing support that results in a drastic reduction of time and cost, through setup and operational efficiency increases.</p>
<p>If one wants to deploy this test, the machines in the general cluster (to which such test is deployed), should have at least 50 gb disk as the image for this test is 16GB.</p>
<ul class="simple">
<li><p>Contributors/Owners: Daniele Spiga (INFN) - <a class="reference external" href="mailto:daniele&#46;spiga&#37;&#52;&#48;pg&#46;infn&#46;it">daniele<span>&#46;</span>spiga<span>&#64;</span>pg<span>&#46;</span>infn<span>&#46;</span>it</a> ; Diego Ciangottini (INFN) - <a class="reference external" href="mailto:diego&#46;ciangottini&#37;&#52;&#48;cern&#46;ch">diego<span>&#46;</span>ciangottini<span>&#64;</span>cern<span>&#46;</span>ch</a></p></li>
<li><p><a href="https://dodas-ts.github.io/dodas-doc/" target="_blank">Repository</a></p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="run.html" class="btn btn-neutral float-right" title="3. Run the test-suite" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="gettingStarted.html" class="btn btn-neutral float-left" title="1. Getting started" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, CERN IT-DI-EFP

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>